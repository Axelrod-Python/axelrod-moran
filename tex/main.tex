\documentclass{article}

% Packages
\usepackage[margin=1.5cm, includefoot, footskip=30pt]{geometry}
\usepackage{hyperref}
\usepackage{multicol}
\usepackage{booktabs}
\usepackage{xstring}
\usepackage{subcaption}
\usepackage{graphicx}
\usepackage{amsmath}
\usepackage{standalone}
\usepackage{fancyvrb}

\usepackage{tikz}
\usetikzlibrary{calc, shapes, patterns}

\usepackage[backend=biber, firstinits=false, backref=false, url=true,
            isbn=true, style=numeric]{biblatex}
\addbibresource{bibliography.bib}

% Title
\title{An empirical study of fixation for strategies in the
       Iterated Prisoner's Dilemma}
\author{Marc Harper \and Vincent Knight} % TODO Authors?
\date{}


\begin{document}

\maketitle

\begin{abstract}
    The Iterated Prisoner's Dilemma is a well established framework for
    the study of emergent behaviour. In this paper an extensive numerical
    study of the evolutionary dynamics of this framework are presented.

    Fixation probabilities for Moran processes are obtained for 172
    different strategies. This is done in both a standard 200 turn
    interaction and a noisy setting.

    To the authors knowledge this is the largest
    such study. It allows for insights about the behaviour and
    performance of strategies with regard to their survival in an
    evolutionary setting.
\end{abstract}  % TODO Add main conclusion/finding.

\section{Introduction}\label{sec:introduction}

Since the formulation of the Moran Process in \cite{Moran1957}, this model of
evolutionary population dynamics has been used to gain insights about the
evolutionary stability of strategies in a number of settings. Similarly since
the first Iterated Prisoner's Dilemma (IPD) tournament described in
\cite{Axelrod1980a} the Prisoner's dilemma has been used to understand the
evolution of cooperative behaviour in complex systems.

The analytical models of a Moran process are based on the relative fitness
between two strategies and take this to be a fixed value \(r\) \cite{Nowak}.
This is a valid model for simple strategies of the Prisoner's Dilemma such as to
\textit{always cooperate} or \textit{always defect}. This manuscript provides a
detailed numerical analysis of \textbf{172} complex and adaptive strategies for
the IPD\@. In this case the relative fitness of a strategy is dependent on the
population distribution.

Further deviations from the analytical model occur when interactions between
players are subject to uncertainty. This is referred to as noise and has been
considered in the IPD setting in \cite{Bendor1993, Nowak1993, Wu1995}.

This work provides answers to the following questions:

\begin{enumerate}
    \item What strategies are good invaders?
    \item What strategies are good at resisting invasion?
    \item How does the population size affect these findings?
\end{enumerate}

Figure~\ref{fig:moran_process} shows a diagrammatic representation of the Moran
process. This process is a stochastic birth death process on a finite population
in which the population size stays constant over time. Individuals are
\textbf{selected} according to a given fitness landscape. Once selected, a given
individual is reproduced and similarly another individual is chosen to be
removed from the population. In some settings mutation is also considered but
without mutation (the case considered in this work) this process will arrive at
an absorbing state where the population is entirely made up of a single
individual. The probability with which a given strategy is the survivor is
called the fixation probability. A more detailed analytic description of this
is given in Section~\ref{sec:validation}.

\begin{figure}[!hbtp]
    \centering
    \input{../img/moran_process.tex}
    \caption{A diagrammatic representation of a Moran process}
    \label{fig:moran_process}
\end{figure}

The Moran process was initially introduced in \cite{Moran1957} in a genetic
setting. It has since been used in a variety of settings including the
understanding of the spread of cooperative behaviour. However, as stated before,
these mainly consider non sophisticated strategies. Some work has looked at
evolutionary stability of strategies within the Prisoner's Dilemma \cite{Li2014}
but this is not done in the more widely used setting of the Moran process but in
terms of infinite population stability. In \cite{Baek2016} Moran processes are
looked at in a theoretic framework for a small subset of strategies. In
\cite{Lee2015} machine learning techniques are used to train a strategy capable
of resisting invasion and also invade any memory one strategy. Recent work
\cite{Hilbe2017} has investigated the effect of memory length on strategy
performance and the emergence of cooperation but this is not done in Moran
process context and only considers specific cases of memory 2 strategies.
% TODO Is this OK? We should add more.

The contribution of this work is a detailed and extensive analysis of absorption
probabilities for 172 strategies. These strategies and the numerical simulations
are from~\cite{axelrodproject} which is an open source research library written
for the study of the IPD\@. The strategies and simulation frameworks are
automatically tested in accordance to best research software practice. The large
number of strategies are available thanks to the open source nature of the
project with over 40 contributions made by different programmers. Thus by
considering Moran processes with population size greater than 2 we are taking in
to account the effect of complex population dynamics. By considering
sophisticated strategies we are taking in to effect the reputation of a strategy
during each interaction.

Section~\ref{sec:methodology} will explain the methodological approach used,
Section~\ref{sec:validation} will validate the methodology by comparing
simulated results to analytical results. The main results of this manuscript are
presented in Section~\ref{sec:empirical_results} which will present a detailed
analysis of all the data generated. Finally, Section~\ref{sec:conclusion} will
conclude and offer future avenues for the work presented here.

\section{Methodology}\label{sec:methodology}

To carry out this large numerical experiment 172 strategies are used from
\cite{axelrodproject}. These include 169 default strategies in the library at
the time (excluding strategies classified as having a long run time) as well as
the following 3 finite state machine machine strategies \cite{Ashlock2006}:

% TODO Include details about the 3 extra FSM strategies.
% Possibly draw pictorial representations?

Appendix~\ref{app:list_of_players} shows all the players in question. More
information about each player can be obtained in the documentation for
\cite{axelrodproject}. There are \input{../tbl/num_stochastic.tex}stochastic and
\input{../tbl/num_deterministic.tex}deterministic strategies. Their memory
depth is shown in Table~\ref{tbl:memory_depth_count}.

\begin{table}[!hbtp]
    \centering
        \input{../tbl/memory_depth_count.tex}
        \caption{Memory depth}
        \label{tbl:memory_depth_count}
\end{table}

All strategies are paired and these pairs are used in 1000 repetitions of a
Moran process assuming a starting population of \((N/2, N/2)\). This is repeated
for even \(N\) between 2 and 14. The fixation probability is then estimated for
each value of \(N\).
% TODO The above is no longer true.

Note that due to the high computational cost of these experiments, for any given
interaction between two players within the Moran process the outcome is sampled
from a pre computed cache of 1000 match outcomes. This is carried out using an
software written for the purpose of this work. This has been
implemented in \cite{axelrodproject} ensuring that it can be used to either
reproduce the work or carry out further work.

Figure~\ref{fig:number_of_stochastic_match_outcomes} shows the distribution of
the number of outcomes between all strategy pairs.
Tables~\ref{tbl:number_of_stochastic_match_outcomes} shows that 95\% of the
stochastic matches have less than 786 unique outcomes whilst the maximum number
is 971. This ensures that using a set of cached results from 1000 precomputed
matches is sufficient for the analysis taking place here.

\begin{figure}[!hbtp]
    \centering
    \begin{subfigure}[t]{.5\textwidth}
        \centering
        \includegraphics[width=.9\textwidth]{../img/number_of_match_outcomes.pdf}
        \caption{All matches}
    \end{subfigure}%
    ~
    \begin{subfigure}[t]{.5\textwidth}
        \centering
        \includegraphics[width=.9\textwidth]{../img/number_of_stochastic_match_outcomes.pdf}
        \caption{Stochastic matches}
    \end{subfigure}%
    \caption{The distribution of the number of unique outcomes used as the
    cached results}
    \label{fig:number_of_stochastic_match_outcomes}
\end{figure}


\begin{table}[!hbtp]
    \centering
    \begin{subfigure}[t]{.5\textwidth}
        \centering
        \input{../tbl/number_of_match_outcomes.tex}
        \caption{All matches}
    \end{subfigure}%
    ~
    \begin{subfigure}[t]{.5\textwidth}
        \centering
        \input{../tbl/number_of_stochastic_match_outcomes.tex}
        \caption{Stochastic matches}
    \end{subfigure}%
    \caption{Summary statistics for the number of different match outcomes used
    as the cached results}
    \label{tbl:number_of_stochastic_match_outcomes}
\end{table}

Section~\ref{sec:validation} will validate the methodology used here against
known theoretic results.

\section{Validation}\label{sec:validation}

As described in \cite{Nowak} Consider the payoff matrix:

\begin{equation}\label{equ:payoff_matrix}
    M = \begin{pmatrix}
        a, b\\
        c, d
        \end{pmatrix}
\end{equation}

The expected payoffs of \(i\) players of the first type in a population with \(N
- i\) players of the second type are given by:

\begin{equation}\label{equ:expected_payoff_one}
    F_i = \frac{a(i - 1) + b(N - i)}{N - 1}
\end{equation}

\begin{equation}\label{equ:expected_payoff_two}
    G_i = \frac{ci + d(N - i - 1)}{N - 1}
\end{equation}

With an intensity of selection \(\omega\) the fitness of both strategies is
given by:

\begin{equation}\label{equ:expected_payoff_one}
    f_i = 1 - \omega + \omega F_i
\end{equation}

\begin{equation}\label{equ:expected_payoff_two}
    g_i = 1 - \omega + \omega G_i
\end{equation}

The transitions within the birth death process that underpins the Moran process
are then given by:

\begin{align}
	p_{i, i+1}&= \frac{if_i}{if_i+(N-i)g_i}\frac{N-i}{N}\label{equ:p_up}\\
	p_{i, i-1}&= \frac{(N-i)g_i}{if_i+(N-i)g_i}\frac{i}{N}\label{equ:p_down}\\
	p_{ii} &= 1 - p_{i, i+1} - p_{i, i-1}\label{equ:p_stay}
\end{align}

Using this it is a known result that the fixation probability of the first
strategy in a population of \(i\) individuals of the first type (and \(N-i\)
individuals of the second. We have:

\begin{equation}\label{equ:fixation_probability}
x_i = \frac{1 + \sum_{j=1}^{i-1}\prod_{k=1}^{j}\gamma_j}{1 + \sum_{j=1}^{N-1}
      \prod_{k=1}^{j}\gamma_j}
\end{equation}

where:

\[
\gamma_j = \frac{p_{j, j-1}}{p_{j, j+1}}
\]

Using this comparisons of \(x_1, x_{N/2}, x_{N-1}\) are shown in
Figure~\ref{fig:comparison_deterministic}. The points represent the simulated
values and the line shows the theoretic value. Note that these are all
deterministic strategies and show a perfect match up between the expected value
of (\ref{equ:fixation_probability}) and the actual Moran process for all
strategies pairs.

\begin{figure}[!hbtp]
    \centering
    \begin{subfigure}[t]{.3\textwidth}
        \centering
        \includegraphics[width=.8\textwidth]{../img/Alternator_v_Cooperator.pdf}
        \caption{Alternator and Cooperator}
    \end{subfigure}%
    ~
    \begin{subfigure}[t]{.3\textwidth}
        \centering
        \includegraphics[width=.8\textwidth]{../img/Alternator_v_Defector.pdf}
        \caption{Alternator and Defector}
    \end{subfigure}%
    ~
    \begin{subfigure}[t]{.3\textwidth}
        \centering
        \includegraphics[width=.8\textwidth]{../img/Alternator_v_Tit_For_Tat.pdf}
        \caption{Alternator and Tit For Tat}
    \end{subfigure}%

    \begin{subfigure}[t]{.3\textwidth}
        \centering
        \includegraphics[width=.8\textwidth]{../img/Cooperator_v_Tit_For_Tat.pdf}
        \caption{Cooperator and Tit For Tat}
    \end{subfigure}%
    ~
    \begin{subfigure}[t]{.3\textwidth}
        \centering
        \includegraphics[width=.8\textwidth]{../img/Defector_v_Cooperator.pdf}
        \caption{Defector and Cooperator}
    \end{subfigure}%
    ~
    \begin{subfigure}[t]{.3\textwidth}
        \centering
        \includegraphics[width=.8\textwidth]{../img/Defector_v_Tit_For_Tat.pdf}
        \caption{Defector and Tit For Tat}
    \end{subfigure}%

    \begin{subfigure}[t]{.3\textwidth}
        \centering
        \includegraphics[width=.8\textwidth]{../img/Win-Stay_Lose-Shift_v_Tit_For_Tat.pdf}
        \caption{Win Stay Lose Shift and Tit For Tat}
    \end{subfigure}%
    ~
    \begin{subfigure}[t]{.3\textwidth}
        \centering
        \includegraphics[width=.8\textwidth]{../img/Alternator_v_Win-Stay_Lose-Shift.pdf}
        \caption{Alternator and Win Stay Lose Shift}
    \end{subfigure}%
    ~
    \begin{subfigure}[t]{.3\textwidth}
        \centering
        \includegraphics[width=.8\textwidth]{../img/Defector_v_Win-Stay_Lose-Shift.pdf}
        \caption{Defector and Win Stay Lose Shift}
    \end{subfigure}%
    \caption{Comparison of theoretic and actual Moran Process fixation
             probabilities for \textbf{deterministic} strategies}
    \label{fig:comparison_deterministic}
\end{figure}

\begin{figure}[!hbtp]
    \centering
    \begin{subfigure}[t]{.3\textwidth}
        \centering
        \includegraphics[width=.8\textwidth]{../img/Random_v_Cooperator.pdf}
        \caption{Random and Cooperator}
    \end{subfigure}%
    ~
    \begin{subfigure}[t]{.3\textwidth}
        \centering
        \includegraphics[width=.8\textwidth]{../img/Random_v_Defector.pdf}
        \caption{Random and Defector}
    \end{subfigure}%
    ~
    \begin{subfigure}[t]{.3\textwidth}
        \centering
        \includegraphics[width=.8\textwidth]{../img/Random_v_Tit_For_Tat.pdf}
        \caption{Random and Tit For Tat}
    \end{subfigure}%

    \begin{subfigure}[t]{.3\textwidth}
        \centering
        \includegraphics[width=.8\textwidth]{../img/ALLCorALLD_v_Cooperator.pdf}
        \caption{All C or all D and Cooperator}
    \end{subfigure}%
    ~
    \begin{subfigure}[t]{.3\textwidth}
        \centering
        \includegraphics[width=.8\textwidth]{../img/ALLCorALLD_v_Defector.pdf}
        \caption{All C or all D and Defector}
    \end{subfigure}%
    ~
    \begin{subfigure}[t]{.3\textwidth}
        \centering
        \includegraphics[width=.8\textwidth]{../img/Calculator_v_Random.pdf}
        \caption{Calculator and Random}
    \end{subfigure}%

    \begin{subfigure}[t]{.3\textwidth}
        \centering
        \includegraphics[width=.8\textwidth]{../img/Calculator_v_ALLCorALLD.pdf}
        \caption{Calculator and All C or all D}
    \end{subfigure}%
    ~
    \begin{subfigure}[t]{.3\textwidth}
        \centering
        \includegraphics[width=.8\textwidth]{../img/Calculator_v_Arrogant_QLearner.pdf}
        \caption{Calculator and Arrogant Q learner}
    \end{subfigure}%
    ~
    \begin{subfigure}[t]{.3\textwidth}
        \centering
        \includegraphics[width=.8\textwidth]{../img/ALLCorALLD_v_Tit_For_Tat.pdf}
        \caption{All C or all D and Tit For Tat}
    \end{subfigure}%
    \caption{Comparison of theoretic and actual Moran Process
             fixation probabilities for \textbf{stochastic} strategies}
    \label{fig:comparison_stochastic}
\end{figure}

Figure~\ref{fig:comparison_stochastic} shows the fixation probabilities for
stochastic strategies. These are no longer a good match which highlights the
weakness of the analytical formulae that relies on the average payoffs. A
detailed analysis of the 172 strategies considered, using direct Moran processes
will be shown in the next Section.

\section{Empirical results}\label{sec:empirical_results}

This section will outline the data analysis carried out:

\begin{itemize}
    \item Section~\ref{sec:two_individuals} will consider the specific case of
        \(N=2\).
    \item Section~\ref{sec:strong_invaders} will investigate the effect of
        population size on the ability of a strategy to invade another
        population. This will highlight how complex strategies with long
        memories outperform simpler strategies.
    \item Section~\ref{sec:strong_resistors} will similarly investigate the
        ability to defend against an invasion.
    \item Section~\ref{sec:population_size} will investigate the relationship
        between performance for differing population sizes. This highlights the
        importance of considering population dynamics over large populations.
    \item Section~\ref{sec:fitness} will calculate the relative fitness of all
        strategies.
\end{itemize}

\subsection{The special case of \(N=2\)}\label{sec:two_individuals}

% TODO Move the case 2 graphics to here.

\subsection{Strong invaders}\label{sec:strong_invaders}

In this section \(x_i\) will be investigated: the probability of 1 individual of
a given type successfully becoming fixated in a population of \(N - 1\) other
individuals. Figures~\ref{fig:fixation_heatmap_invade} shows these values for
the players along the vertical axis when matched against the players on the
horizontal axis. It can be seen that invasion is in general more challenging for
\(N=7\) and \(N=11\) in comparison to \(N=2\).
%TODO Change this to N=14
This information is summarised in Figure~\ref{fig:fixation_boxplot_invade}
showing the median fixation as well as the neutral fixation for each given
scenario.

\begin{figure}[!hbtp]
    \centering
    \begin{subfigure}[t]{.3\textwidth}
        \centering
        \includegraphics[width=.8\textwidth]{../img/fixation_heatmap_2_invade.pdf}
        \caption{\(N=2\)}
    \end{subfigure}%
    ~
    \begin{subfigure}[t]{.3\textwidth}
        \centering
        \includegraphics[width=.8\textwidth]{../img/fixation_heatmap_7_invade.pdf}
        \caption{\(N=7\)}
    \end{subfigure}%
    ~
    \begin{subfigure}[t]{.3\textwidth}
        \centering
        \includegraphics[width=.8\textwidth]{../img/fixation_heatmap_11_invade.pdf}
        \caption{\(N=11\)}

    %TODO Replace N=11 with N=14
    \end{subfigure}%

    \caption{Pairwise fixation probability \(x_{1}\) of all strategies}
    \label{fig:fixation_heatmap_invade}
\end{figure}

\begin{figure}[!hbtp]
    \centering
    \begin{subfigure}[t]{.3\textwidth}
        \centering
        \includegraphics[width=\textwidth]{../img/boxplot_2_invade.pdf}
        \caption{\(N=2\)}
    \end{subfigure}%
    ~
    \begin{subfigure}[t]{.3\textwidth}
        \centering
        \includegraphics[width=\textwidth]{../img/boxplot_7_invade.pdf}
        \caption{\(N=7\)}
    \end{subfigure}%
    ~
    \begin{subfigure}[t]{.3\textwidth}
        \centering
        \includegraphics[width=\textwidth]{../img/boxplot_11_invade.pdf}
        \caption{\(N=11\)}
    \end{subfigure}%

    % TODO Replace N=11 with N=14 (when we have more data).
    \caption{Median probabilities \(x_{1}\) of all strategies as well as the
    neutral fixation probability}
    \label{fig:fixation_boxplot_invade}
\end{figure}

For \(N\in\{2, 7, 11\}\) the top five strategies are given in
% TODO Change N=11 to N=14
Tables~\ref{tbl:top_five_invade}. It can be seen that for \(N=2\), as described
in~\cite{Press2012}, zero determinant strategies perform well. There is a
single strategy with infinite memory in the top five but this is in fact a meta
strategy that plays with a team of memory one strategies picking out the top
performer at each stage. The remaining strategy ``Feld" is the corresponding
strategy submitted to the first tournament by Axelrod~\cite{Axelrod1980a}. All
these strategies are stochastic.

\begin{table}[!hbtp]
    \begin{subfigure}[t]{\textwidth}
        \centering
        \input{../tbl/summary_top_2_invade.tex}
        \caption{\(N=2\)}
    \end{subfigure}
    \begin{subfigure}[t]{\textwidth}
        \centering
        \input{../tbl/summary_top_7_invade.tex}
        \caption{\(N=7\)}
    \end{subfigure}
    \begin{subfigure}[t]{\textwidth}
        \centering
        \input{../tbl/summary_top_11_invade.tex}
        \caption{\(N=11\)}
    \end{subfigure}
    %TODO Change N=11 to N=14
    \caption{Properties of top five invaders}
    \label{tbl:top_five_invade}
\end{table}

% TODO Write a little conclusion about invaders and introduce next section.

\subsection{Strong resistors}\label{sec:strong_resistors}

\begin{figure}[!hbtp]
    \centering
    \begin{subfigure}[t]{.3\textwidth}
        \centering
        \includegraphics[width=.8\textwidth]{../img/fixation_heatmap_2_invade.pdf}
        \caption{\(N=2\)}
    \end{subfigure}%
    ~
    \begin{subfigure}[t]{.3\textwidth}
        \centering
        \includegraphics[width=.8\textwidth]{../img/fixation_heatmap_7_resist.pdf}
        \caption{\(N=7\)}
    \end{subfigure}%
    ~
    \begin{subfigure}[t]{.3\textwidth}
        \centering
        \includegraphics[width=.8\textwidth]{../img/fixation_heatmap_11_resist.pdf}
        \caption{\(N=11\)}

    %TODO Replace N=11 with N=14
    \end{subfigure}%

    \caption{Pairwise fixation probability \(x_{N-1}\) of all strategies}
    \label{fig:fixation_heatmap_resist}
\end{figure}

\begin{figure}[!hbtp]
    \centering
    \begin{subfigure}[t]{.3\textwidth}
        \centering
        \includegraphics[width=\textwidth]{../img/boxplot_2_invade.pdf}
        \caption{\(N=2\)}
    \end{subfigure}%
    ~
    \begin{subfigure}[t]{.3\textwidth}
        \centering
        \includegraphics[width=\textwidth]{../img/boxplot_7_resist.pdf}
        \caption{\(N=7\)}
    \end{subfigure}%
    ~
    \begin{subfigure}[t]{.3\textwidth}
        \centering
        \includegraphics[width=\textwidth]{../img/boxplot_11_resist.pdf}
        \caption{\(N=11\)}
    \end{subfigure}%

    % TODO Replace N=11 with N=14 (when we have more data).
    \caption{Median probabilities \(x_{N-1}\) of all strategies as well as the
    neutral fixation probability}
    \label{fig:fixation_boxplot_resist}
\end{figure}

\begin{table}[!hbtp]
    \begin{subfigure}[t]{\textwidth}
        \centering
        \input{../tbl/summary_top_7_resist.tex}
        \caption{\(N=7\)}
    \end{subfigure}
    \begin{subfigure}[t]{\textwidth}
        \centering
        \input{../tbl/summary_top_11_resist.tex}
        \caption{\(N=11\)}
    \end{subfigure}
    %TODO Change N=11 to N=14
    \caption{Properties of top five strategies resistors}
    \label{tbl:top_five_invade}
\end{table}

\subsection{The effect of population size}\label{sec:population_size}

Figures~\ref{fig:ranks_v_size_invade},~\ref{fig:ranks_v_size_resist}
and~\ref{fig:ranks_v_size_coexist} show the median rank of each strategy against
population size. Note that these ranks are
not necessarily integers as group ties are given the average rank.

\begin{figure}[!hbtp]
    \centering
    \includegraphics[height=.9\textheight]{../img/median_rank_vs_population_size_invade.pdf}
    \caption{invade}
    \label{fig:ranks_v_size_invade}
\end{figure}

\begin{figure}[!hbtp]
    \centering
    \includegraphics[height=.9\textheight]{../img/median_rank_vs_population_size_resist.pdf}
    \caption{resist}
    \label{fig:ranks_v_size_resist}
\end{figure}

\begin{figure}[!hbtp]
    \centering
    \includegraphics[height=.9\textheight]{../img/median_rank_vs_population_size_coexist.pdf}
    \caption{Coexistance}
    \label{fig:ranks_v_size_coexist}
\end{figure}

Tables~\ref{tbl:correlation_coeficients_invade},~\ref{tbl:correlation_coeficients_resist}
and~\ref{tbl:correlation_coeficients_coexist} show the correlation coefficients
of the ranks in of strategies in differing population size. This is shown
graphically in Figure~\ref{fig:correlation_coefficients}. It is immediate to
note that how well a strategy performs in any Moran process for \(N>2\) has
little to do with the performance for \(N=2\).
% TODO This is a really good conclusion I think: it shows that when studying
% population dynamics it is important to consider larger populations.

\begin{table}[!hbtp]
    \centering
    \begin{subfigure}{\textwidth}
        \centering
        \input{"../tbl/correlation_coeficients_invade.tex"}
        \caption{Correlation coefficients for ranks for invasion}
        \label{tbl:correlation_coeficients_invade}
    \end{subfigure}%

    \begin{subfigure}{\textwidth}
        \centering
        \input{"../tbl/correlation_coeficients_resist.tex"}
        \caption{Correlation coefficients for ranks for resistance}
        \label{tbl:correlation_coeficients_resist}
    \end{subfigure}

    \begin{subfigure}{\textwidth}
        \centering
        \input{"../tbl/correlation_coeficients_coexist.tex"}
        \caption{Correlation coefficients for ranks for coexistance}
        \label{tbl:correlation_coeficients_coexist}
    \end{subfigure}
    \caption{Correlation coefficients}
\end{table}

\begin{figure}[!htbp]
	\centering
	\begin{subfigure}[t]{.3\textwidth}
		\centering
		\includegraphics[width=.9\textwidth]{../img/correlation_heatmap_invade.pdf}
		\caption{Rank based on \(x_1\)}
    \end{subfigure}
    ~
	\begin{subfigure}[t]{.3\textwidth}
		\centering
		\includegraphics[width=.9\textwidth]{../img/correlation_heatmap_resist.pdf}
        \caption{Rank based on \(x_{N - 1}\)}
    \end{subfigure}
    ~
	\begin{subfigure}[t]{.3\textwidth}
		\centering
		\includegraphics[width=.9\textwidth]{../img/correlation_heatmap_coexist.pdf}
        \caption{Rank based on \(x_{N/2}\)}
    \end{subfigure}
    \caption{Correlation coefficients for ranks}
    \label{fig:correlation_coefficients}
\end{figure}



% TODO Discuss effect of size on performance of strategies. Relate to Press and
% Dyson work: "ZD strategies win matches but not tournaments".

% TODO Redo everything with Meta strategies? This was a comment by MH. I suggest
% we leave this for this paper.

% TODO Discuss some particular interesting cases; strategies that perform well
% in the overall tournament for v2.8.0 perhaps?

\section{Conclusion}\label{sec:conclusion}

% TODO Write overall conclusion. (Perhaps: weakness of short memory
% strategies?)

Further work:

\begin{itemize}
    \item Spatial structure;
    \item More than two types in the population;
    \item Modified Moran processes (Fermi selection);
    \item Mutation;
\end{itemize}
% TODO Write this section.

\section*{Acknowledgements}

This work was performed using the computational facilities of the Advanced
Research Computing @ Cardiff (ARCCA) Division, Cardiff University.

A variety of software libraries have been used in this work:

\begin{itemize}
    \item The Axelrod library (IPD strategies and Moran processes)
        \cite{axelrodproject}.
    \item The matplotlib library (visualisation) \cite{hunter2007matplotlib}.
    \item The pandas and numpy libraries (data manipulation)
        \cite{mckinney2010data, walt2011numpy}.
\end{itemize}

\printbibliography

\appendix

\section{List of players}\label{app:list_of_players}

\begin{multicols}{3}
	\begin{enumerate}
		\input{../tbl/list_of_players.tex}
	\end{enumerate}
\end{multicols}

\end{document}
